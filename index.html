<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Encyclopontus | Digital Garden</title>
    <script src="static/htmx.min.js"></script>
    <!--<script src="https://cdn.tailwindcss.com"></script>-->
    <link rel="stylesheet" type="text/css" href="static/stylesheet.css" />
    <link rel="stylesheet" type="text/css" href="src/styles/rainbow-hover.css" />
  </head>
  <body class="bg-slate-900 text-slate-300">
    <div class="flex flex-col md:flex-row min-h-screen">
      <aside class="w-1/5 bg-slate-900 p-6 border-r border-violet-950">
        <header class="text-center p-0 mb-6 border-b border-violet-950 h-14">
          <h2 class="text-3xl font-bold rainbow-hover text-violet-800">
            <a href="">
              <!-- What do you _mean_ "not aesthetically pleasing"??
                   Make a PR for a more elegant solution, then!.. ;*
              -->
              <span>E</span><span>n</span><span>c</span><span>y</span><span>c</span
              ><span>l</span><span>o</span><span>p</span><span>o</span><span>n</span
              ><span>t</span><span>u</span><span>s</span>
            </a>
          </h2>
        </header>

        <nav>
          <ul>
            <li>
              <a
                href="#example"
                class="block py-2 hover:bg-purple-800"
                hx-trigger="click"
                hx-get="src/example.html"
                hx-target="#main-content"
                hx-swap="innerHTML"
              >
                Example page
              </a>
            </li>
          </ul>
        </nav>
      </aside>

      <main id="main-content" class="flex-1 container mx-auto p-6">
        <section>
          <h2 class="text-2xl font-semibold mb-4">About This Project</h2>
          <p>
            This is a starting point for my <b>Digital Garden</b>.<br />
            Here, I aim to find a space for self-expression through writing, UX design,
            and aesthetically pleasing code.
          </p>
          <p>
            This will never be finished, but is rather meant to be an organically evolving
            outlet for my thoughts.<br />
            Thus, I hereby present it as-is as of right now - <b>no more, no less</b>.
          </p>
        </section>
      </main>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        let contentMap = {
          home: 'index.html',
          example: 'src/example.html',
        }

        loadContentFromHash(contentMap)

        window.addEventListener(
          'hashchange',
          function () {
            loadContentFromHash(contentMap)
          },
          false,
        )
      })

      function loadContentFromHash(contentMap) {
        let id = window.location.hash.substring(1)
        if (id && contentMap[id]) {
          loadContent(id, contentMap[id])
        }
      }

      function loadContent(id, page) {
        htmx.ajax('GET', page, '#main-content')
      }
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const spans = document.querySelectorAll('.rainbow-hover span')
        const pSpan = spans[7] // p as in Pontus B-)

        pSpan.addEventListener('mouseover', function () {
          spans.forEach(span => span.classList.add('rainbow-active'))
        })

        pSpan.addEventListener('mouseout', function () {
          spans.forEach(span => span.classList.remove('rainbow-active'))
        })
      })
    </script>
  </body>
</html>
