<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Encyclopontus | Digital Garden</title>
    <link rel="shortcut icon" type="image/x-icon" href="encyclogo.ico" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bad+Script" />

    <script src="static/htmx.min.js"></script>
    <!--<script src="https://cdn.tailwindcss.com"></script>-->
    <link rel="stylesheet" type="text/css" href="static/stylesheet.css" />
    <link rel="stylesheet" type="text/css" href="src/styles/rainbow-hover.css" />
  </head>
  <body class="bg-slate-900 text-violet-50">
    <div class="h-screen overflow-x-hidden md:flex-row md:flex">
      <!--
        class="fixed w-full h-full p-6 overflow-y-auto transform -translate-x-full md:flex-1 min-w-52 md:transform-none md:translate-x-0 md:max-w-1/5 bg-slate-900 md:relative md:h-auto"
      -->
      <aside
        id="sidebar"
        class="fixed w-full h-full p-6 overflow-y-auto transform -translate-x-full border-r flex-0 md:w-80 md:translate-x-0 bg-slate-900 md:relative md:h-auto"
      >
        <header class="p-0 mb-6 text-center border-b h-14">
          <h2 class="text-3xl font-bold rainbow-hover">
            <a class="text-violet-800" href="">
              <!-- What do you _mean_ "not aesthetically pleasing"??
                   Make a PR for a more elegant solution, then!.. ;*
              -->
              <span>E</span><span>n</span><span>c</span><span>y</span><span>c</span
              ><span>l</span><span>o</span><span>p</span><span>o</span><span>n</span
              ><span>t</span><span>u</span><span>s</span>
            </a>
          </h2>
        </header>

        <nav>
          <ul class="list-none">
            <li class="pb-2 mb-4 border-b">
              <a href="#liveography" hx-target="#main-content" class="font-bold">
                Live Autobiography
              </a>

              <ul class="border-l-0">
                <li class="pb-2">
                  <a href="#liveography/abroad-2024" hx-target="#main-content">
                    Abroad Living 2024
                  </a>
                  <ul class="list-none">
                    <li>
                      <a
                        href="#liveography/abroad-2024/berlin-2023"
                        hx-target="#main-content"
                      >
                        Berlin
                        <i class="float-right mt-1 text-sm">23-11-14 ~> 24-01-09</i></a
                      >
                    </li>

                    <li>
                      <a
                        href="#liveography/abroad-2024/barcelona-2024"
                        hx-target="#main-content"
                      >
                        Barcelona
                        <i class="float-right mt-1 text-sm">24-01-09 -> 24-02-13</i>
                      </a>
                      <ul class="list-none">
                        <li>
                          <a
                            href="#liveography/abroad-2024/sprained-ankle"
                            hx-target="#main-content"
                            class="italic"
                          >
                            Close to ending the entire #!
                          </a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>

            <!-- -------- -->

            <li>
              <a href="#meditation" hx-target="#main-content">Meditation</a>
            </li>

            <li>
              <a href="#mindful-routines" hx-target="#main-content">
                Mindfulness vs. Routine
              </a>
            </li>

            <li>
              <a href="#pontus" hx-target="#main-content">Pontus</a>
              <ul>
                <li>
                  <a href="#pontus/past-pontus" hx-target="#main-content">Past Pontus</a>
                </li>
                <li>
                  <a href="#pontus/future-pontus" hx-target="#main-content"
                    >Future Pontus</a
                  >
                </li>
              </ul>
            </li>

            <li>
              <a href="#rave" hx-target="#main-content">Rave</a>
            </li>

            <li>
              <a href="#regrets" hx-target="#main-content">Regrets</a>
            </li>

            <li>
              <a href="#sociology" hx-target="#main-content">Sociology</a>
              <ul>
                <li>
                  <a href="#sociology/sociodrink" hx-target="#main-content"
                    >Sociodrinking</a
                  >
                </li>
              </ul>
            </li>

            <li>
              <a href="#temperance" hx-target="#main-content">Temperance</a>
              <ul class="list-none">
                <li><a href="#temperance/snus" hx-target="#main-content">Snus</a></li>
              </ul>
            </li>

            <!-- -------- -->

            <li class="pt-2 mt-4 border-t">
              <a href="#seeds" hx-target="#main-content">Seeds</a>
            </li>
          </ul>
        </nav>
      </aside>

      <!--
      <main
        id="main-content"
        class="active container flex-1 p-6 ml-0 mr-auto max-w-[1150px]"
      >
      -->
      <main id="main-content" class="flex-1 p-6 overflow-y-auto active max-w-[1150px]">
        <h1>
          Welcome to my
          <a class="font-semibold" href="https://www.reddit.com/r/DigitalGardens/"
            ><code>Digital</code> <span class="font-organic">Garden</span></a
          >!
        </h1>
        <p>
          Here I aim to find a space for self-expression through writing, quirky UX
          design, and (hopefully) aesthetically pleasing code.<br />
          The starting point is heavily inspired by
          <a href="https://wiki.nikiv.dev/">Everything I Know</a> by Nikita Voloboev, so
          if you like Encyclopontus I bet you're going to love that site.
        </p>
        <p>
          This will never be finished, but is rather meant to be an
          <a href="https://joelhooks.com/digital-garden">
            organically evolving outlet for my thoughts</a
          >.<br />
          Thus, I hereby present it as is right now - <b>no more, no less</b>.
        </p>

        <section>
          <p>
            The Garden is not structured to be read in a linear fashion, but rather
            explored by a curious mind.<br />
            Most pages can be reached from the navigation menu, but some are loose leaves
            blowing in the wind.
          </p>
          <p>
            Most pages are marked with one of the following statuses to give a rough
            indication of how far they've grown in my eyes:
          </p>
          <ul class="list-none">
            <li>
              ðŸŒ± - Seedling, just beginning to see the light of day, with a lot of growing
              to do!
            </li>
            <li>
              ðŸª´ - Planted pot, living a life of its own - nice enough to appreciate
              having in the garden, but has not yet flowered or gotten its final roots
              established
            </li>
            <li>ðŸŒ² - Tree, with roots enough to try the trial of time</li>
          </ul>
        </section>

        <section class="border-b-0">
          <p>
            For the choice of "tech stack", simplicity is the leading star. The vision
            from the start is a space where I can write formatted and hyperlinked texts
            without having to deal with dependency maintenance, compiling, building, and
            deployment.
          </p>
          <p>
            The site is therefore, as of yet, written with
            <a href="https://htmx.org/">htmxðŸ’œ</a> and
            <a href="https://tailwindcss.com/">Tailwind CSS</a> and is hosted on
            <a href="https://pages.github.com/">GitHub Pages</a> as static files only.<br />
            Source code freely available on my
            <a href="https://github.com/bondii/Encyclopontus">GitHub repo</a>.
          </p>
          <p>
            This approach lets me quickly get started with minimal setup while still
            allowing those sweet partial page updates, and providing a wide range of
            design options. I only have to commit HTML to the repo and GitHub Pages
            automatically deploys it.
          </p>
          <p>
            <br />
            So far this feels fantastic, and I'm excited to see if I can build any
            interesting UX using such a minimal setup. As far as future additions to the
            tech stack goes, I'm interested in trying out
            <a href="https://alpinejs.dev/">AlpineJS</a> for client state management, as
            it ties in with the minimal approach of htmx.
          </p>
        </section>
      </main>
    </div>

    <div class="fixed z-20 transform -translate-x-1/2 bottom-2 left-1/2 md:hidden">
      <button
        id="menu-toggle"
        class="w-6 h-6 text-center text-purple-700 rounded-md bg-fuchsia-950"
      >
        <div>â˜°</div>
      </button>
    </div>

    <script>
      function parsePageName(str) {
        const lastSlashIndex = str.lastIndexOf('/')
        if (lastSlashIndex === -1) {
          // No slash found, return the whole string or handle as needed
          return str
        }
        return str.substring(lastSlashIndex + 1)
      }

      document.addEventListener('DOMContentLoaded', function () {
        loadContentFromHash()
        window.addEventListener('hashchange', loadContentFromHash, false)
      })

      function loadContentFromHash() {
        let hash = window.location.hash.substring(1)

        if (!hash) {
          return // index
        }

        const url = 'http://example.com/path/to/resource'
        const pageName = parsePageName(hash)
        let indexPath = `src/pages/${hash}/${pageName}.html`
        let hashPath = `src/pages/${hash}.html`

        fetch(indexPath)
          .then(response => {
            if (response.ok) {
              loadContent(indexPath)
            } else {
              loadContent(hashPath)
            }
          })
          .catch(() => {
            loadContent('index.html') // ToDoo: Replace with error page
          })
      }

      function loadContent(pagePath) {
        htmx.ajax('GET', pagePath, '#main-content')
      }
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const menuToggle = document.getElementById('menu-toggle')
        const sidebar = document.querySelector('aside')

        const togglers = [menuToggle, sidebar]

        // ToDo: Make selector of a CSS class
        const toggledElements = [
          menuToggle,
          sidebar,
          document.getElementById('main-content'),
        ]

        togglers.forEach(toggleElement =>
          toggleElement.addEventListener('click', function () {
            toggledElements.forEach(element => element.classList.toggle('active'))
          }),
        )
      })
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const spans = document.querySelectorAll('.rainbow-hover span')
        const pSpan = spans[7] // p as in Pontus B-)

        pSpan.addEventListener('mouseover', function () {
          spans.forEach(span => span.classList.add('rainbow-active'))
        })

        pSpan.addEventListener('mouseout', function () {
          spans.forEach(span => span.classList.remove('rainbow-active'))
        })
      })
    </script>
  </body>
</html>
